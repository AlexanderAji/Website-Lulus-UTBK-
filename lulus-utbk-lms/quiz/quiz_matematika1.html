<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css">
</head>
<style>
    .quizPage {
        padding: 10px;;
    }
    .floatLeft{
        float: left;
    }
    .floatRight{
        float: right;
    }
    .quest{
        display: none;
    }
    .quest-active{
        display: block;
    }
    .bntQuest{
        width: 100%;
    }
    .questDivLeft{
        width: 12.5%;
    }
    .leftQuest{
        margin-bottom: 10px;
    }
    .btnIndActive{
        background-color: #0d6efd;
        color: white;
    }
    .btnIndActive:hover{
        background-color: #014fc5;
        color: white;
    }
    .btnIndFlag{
        background-color: #ffc107;
        border-color: #ffc107;
        color: white;
    }
    .btnIndFlag:hover{
        background-color: #b98c06;
        border-color: #ffc107;
        color: white;
    }
</style>
<body>
    <div class="quizPage">
        <div class="row">
            <div class="col-8" style="border:1px;">
                <div class="card">
                    <div class="container">
                        <div class="row table-responsive" style="margin-bottom: -8%;">
                            <div class="col-md-3 offset-xl-9 ">
                                <div class="card text-bg-success">
                                    <div class="card-body">
                                        <div id="countdown" class="display-6"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="quest quest-active" id="quest1">
        
                            <div class="col-5 d-">
                                <h3 class="card-title">Soal No 1</h3>
                            </div>
                            
                            <br>
                            <p class="card-text">Di antara lima bilangan berikut yang nilainya paling kecil adalah</p>
                            <hr>
                            <div class="quizOption">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest1" id="flexRadioQ1A" value="A">
                                            <label class="form-check-label" for="flexRadioQ1A">
                                                A. 5/9 x 0,72
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest1" id="flexRadioQ1C" value="C">
                                            <label class="form-check-label" for="flexRadioQ1C">
                                                C. 10/9 x 0,36
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest1" id="flexRadioQ1B" value="B">
                                            <label class="form-check-label" for="flexRadioQ1B">
                                                B. 5/3 x 0,24
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest1" id="flexRadioQ1D" value="D">
                                            <label class="form-check-label" for="flexRadioQ1D">
                                                D. 15/18 x 0,36 
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- SOAL 2 -->
                        <div class="quest" id="quest2">
                            <h3 class="card-title">Soal No 2</h3>
                            
                            <br>
                            <p class="card-text">Bilangan berikut yg nilainya terbesar adalah ....</p>
                            <hr>
                            <div class="quizOption">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest2" id="flexRadioQ2A">
                                            <label class="form-check-label" for="flexRadioQ2A">
                                                A. (7 x 7)7
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest2" id="flexRadioQ2C">
                                            <label class="form-check-label" for="flexRadioQ2C">
                                                C. 777
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest2" id="flexRadioQ2B">
                                            <label class="form-check-label" for="flexRadioQ2B">
                                                B. (7)77
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest2" id="flexRadioQ2D">
                                            <label class="form-check-label" for="flexRadioQ2D">
                                                D. (77)7
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- SOAL 3 -->
                        <div class="quest" id="quest3">
                            <h3 class="card-title">Soal No 3</h3>
                            <br>
                            <p class="card-text">Untuk mengisi penuh sebuah bak air Ira membutuhkan 8 ember air. Jika Ola memiliki ember yang besarnya hanya setengah dari milik Ira, berapa ember air yang Ola butuhkan untuk mengisi penuh bak air tersebut.</p>
                            <hr>
                            <div class="quizOption">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest3" id="flexRadioQ3A">
                                            <label class="form-check-label" for="flexRadioQ3A">
                                                A. 16
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest3" id="flexRadioQ3C">
                                            <label class="form-check-label" for="flexRadioQ3C">
                                                C. 10
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest3" id="flexRadioQ3B">
                                            <label class="form-check-label" for="flexRadioQ3B">
                                                B. 12
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest3" id="flexRadioQ3D">
                                            <label class="form-check-label" for="flexRadioQ3D">
                                                D. 8
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- SOAL 4 -->
                        <div class="quest" id="quest4">
                                <h3 class="card-title">Soal No 4</h3>
                                <br>
                            <p class="card-text">Diantara lima bilangan berikut yang nilainya paling kecil adalah ...</p>
                            <hr>
                            <div class="quizOption">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest4" id="flexRadioQ4A">
                                            <label class="form-check-label" for="flexRadioQ4A">
                                                A. 3/15 x 1,80
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest4" id="flexRadioQ4C">
                                            <label class="form-check-label" for="flexRadioQ4C">
                                                C. 18/30 x 0,90
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest4" id="flexRadioQ4B">
                                            <label class="form-check-label" for="flexRadioQ4B">
                                                B. 18/15 x 0,45
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest4" id="flexRadioQ4D">
                                            <label class="form-check-label" for="flexRadioQ4D">
                                                D. 9/15 x 0,90
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- SOAL 5 -->
                        <div class="quest" id="quest5">
                                <h3 class="card-title">Soal No 5</h3>
                            <br>
                            <p class="card-text">q/(17,5%)=280/q Nilai q pada persamaan di atas adalah ...</p>
                            <hr>
                            <div class="quizOption">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest5" id="flexRadioQ5A">
                                            <label class="form-check-label" for="flexRadioQ5A">
                                                A. 8
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest5" id="flexRadioQ5C">
                                            <label class="form-check-label" for="flexRadioQ5C">
                                                C. 5
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest5" id="flexRadioQ5B">
                                            <label class="form-check-label" for="flexRadioQ5B">
                                                B. 7
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="optionQuest5" id="flexRadioQ5D">
                                            <label class="form-check-label" for="flexRadioQ5D">
                                                D. 3
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
                    </div>
                    <div class="card-footer">
                        <div class="row">
                            <div class="col-4 ">
                                <a href="#" class="btn btn-primary floatLeft" id="back_button">
                                    Soal Sebelumnya
                                </a>
                            </div>
                            <div class="col-4">
                                <center>
                                    <a href="#" class="btn btn-warning" id="flag_button_1" onclick="flagQuest(window.activeQuest,1)">
                                        Ragu-ragu
                                    </a>
                                    <a href="#" class="btn btn-warning" id="flag_button_0" onclick="flagQuest(window.activeQuest,0)">
                                        Hapus Ragu-ragu
                                    </a>
                                </center>
                            </div>
                            <div class="col-4">
                                <a href="#" class="btn btn-primary floatRight" id="next_button">
                                    Soal Selanjutnya
                                </a>
                                <a href="#modalFinish" class="btn btn-success floatRight" id="finish_button" data-bs-toggle="modal" role="button">
                                    Finish
                                </a>
                                <!-- <a class="btn btn-primary" data-bs-toggle="modal" href="#modalFinish" role="button">Open first modal</a> -->
                            </div>
                        </div>
                      </div>
                  </div>
            </div>
            <div class="col-4" style="border:1px;">
                <div class="card">
                    <div class="card-body">
                        <div class="row leftQuest">
                            <div class="questDivLeft"></div>
                            <div class="col-3">
                                <a href="#" class="btn btn-secondary bntQuest" id="btnIndc1" onclick="showPage(0)">1</a>
                            </div>
                            <div class="col-3">
                                <a href="#" class="btn btn-secondary bntQuest"  id="btnIndc2" onclick="showPage(1)">2</a>
                            </div>
                            <div class="col-3">
                                <a href="#" class="btn btn-secondary bntQuest"  id="btnIndc3" onclick="showPage(2)">3</a>
                            </div>
                        </div>
                        <div class="row leftQuest">
                            <div class="questDivLeft"></div>
                            <div class="col-3">
                                <a href="#" class="btn btn-secondary bntQuest "  id="btnIndc4" onclick="showPage(3)">4</a>
                            </div>
                            <div class="col-3">
                                <a href="#" class="btn btn-secondary bntQuest"  id="btnIndc5" onclick="showPage(4)">5</a>
                            </div>
                        </div>
                        <hr>
                        <div class="row leftQuest">
                            <div class="col-3">
                                <a href="#" class="btn btn-success bntQuest">Sudah</a>
                            </div>
                            <div class="col-6">: Sudah Dijawab</div>
                        </div> 
                        <div class="row leftQuest">
                            <div class="col-3">
                                <a href="#" class="btn btn-warning bntQuest">Ragu</a>
                            </div>
                            <div class="col-6">: Ragu - ragu</div>
                        </div>
                        <div class="row leftQuest">
                            <div class="col-3">
                                <a href="#" class="btn btn-secondary bntQuest">Belum</a>
                            </div>
                            <div class="col-6">: Belum Dijawab</div>
                        </div>  
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Waktu habis -->
    <div class="modal fade" id="modalTime" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalToggleLabel">Waktu telah habis !</h5>
            </div>
            <div class="modal-body">
              Hasil dan Review bisa dilihat di <a href="D:\SKRIPSI\LULUS UTBK\lulus-utbk-web\lulus-utbk-lms\hasilnilai.html">Hasil Nilai</a>
            </div>
          </div>
        </div>
    </div>

    <!-- klik finish -->
    <div class="modal fade" id="modalFinish" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1" >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalToggleLabel">Konfirmasi</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Setelah anda klik Finish, anda tidak dapat lagi mengubah jawaban pada ujian ini.
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" data-bs-target="#modalFinishConfirm" data-bs-toggle="modal" data-bs-dismiss="modal">Finish </button>
              </div>
          </div>
        </div>
    </div>

    <!-- Konfirmasi Finish -->
    <div class="modal fade" id="modalFinishConfirm" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalToggleLabel">Quiz sudah selesai!</h5>
            </div>
            <div class="modal-body">
              Hasil dan Review bisa dilihat di <a href="D:\SKRIPSI\LULUS UTBK\lulus-utbk-web\lulus-utbk-lms\hasilnilai.html">Hasil Nilai</a>
            </div>
          </div>
        </div>
    </div>
    <!-- <a class="btn btn-primary" data-bs-toggle="modal" href="#modalFinish" role="button">Open first modal</a> -->
</body>
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script>
    window.activeQuest = 0;
    const prevButton = document.getElementById('back_button');
    const nextButton = document.getElementById('next_button');

    //mencari jumlah div yang menggunakan class quest
    const pages = document.querySelectorAll('.quest');
    const countQuest = 4;
    let currentPage = 0;

    // Fungsi untuk menampilkan halaman berdasarkan indeks
    function showPage(pageIndex) {
        window.activeQuest = pageIndex;
        //ketika soal nomor 1 maka button Soal Sebelumnya dihidden
        if(pageIndex==0){
            $("#back_button").hide();
        }else{
            $("#back_button").show();
        }
        
        
        //ketika soal nomor terakhir maka button Soal Selanjutnya dihidden dan button Finish di tampilkan
        if(pageIndex==countQuest){
            $("#next_button").hide();
            $("#finish_button").show();
        }else{
            $("#next_button").show();
            $("#finish_button").hide();
        }

        // jika salah satu option di soal aktif di klik, maka button indikator ditambah class btn-success
        $("input[name='optionQuest"+(parseInt(pageIndex)+1)+"']").change(function() {
            resetBtnClass((parseInt(pageIndex)+1));
            $("#btnIndc"+(parseInt(pageIndex)+1)).addClass("btn-success");
        });

        // jika indikator mempunyai class btnIndFlag maka button hapus ragu2 ditampilkan dan button ragu2 di hide
        if($("#btnIndc"+(parseInt(pageIndex)+1)).hasClass('btnIndFlag')){
            $("#flag_button_0").show();
            $("#flag_button_1").hide();
        }else{
            $("#flag_button_0").hide();
            $("#flag_button_1").show();
        }

        // looping sejumlah page kali
        pages.forEach((page, index) => {
            if (index === pageIndex) {
                page.classList.add('quest-active');
                $("#btnIndc"+(parseInt(index)+1)).addClass("btnIndActive");
            } else {
                page.classList.remove('quest-active');
                $("#btnIndc"+(parseInt(index)+1)).removeClass("btnIndActive");
            }
        });
    }

    // Event listener untuk tombol "Previous"
    prevButton.addEventListener('click', () => {
        if (currentPage > 0) {
            currentPage--;
            showPage(currentPage);
        }
    });

    // Event listener untuk tombol "Next"
    nextButton.addEventListener('click', () => {
        if (currentPage < pages.length - 1) {
            currentPage++;
            showPage(currentPage);
        }
    });

    // Tampilkan halaman pertama saat halaman dimuat
    showPage(currentPage);

    // fungsi untuk menandai ragu2
    function flagQuest(index, status){
        var indexNow = parseInt(index)+1;
        if(status==1){
            $("#flag_button_0").show();
            $("#flag_button_1").hide();

            $("#btnIndc"+index).removeClass("btnIndActive");
            $("#btnIndc"+(indexNow)).addClass("btnIndFlag");
        }else{
            $("#flag_button_0").show();
            $("#flag_button_1").hide();

            $("#btnIndc"+index).addClass("btnIndActive");
            $("#btnIndc"+(indexNow)).removeClass("btnIndFlag");
        }
    };
    
    // fungsi untuk menghapus class btn-secondary dan btn-success di button
    function resetBtnClass(index){
        $("#btnIndc"+index).removeClass("btn-secondary");
        $("#btnIndc"+index).removeClass("btn-success");
    }

    // Set the target time for the countdown (10 minutes)
    const targetTime = new Date();
        targetTime.setMinutes(targetTime.getMinutes() + 1);

        function updateCountdown() {
            const now = new Date();
            const timeDifference = new Date(targetTime - now);
            const minutes = timeDifference.getMinutes();
            const seconds = timeDifference.getSeconds();
            const formattedTime = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            document.getElementById('countdown').textContent = formattedTime;

            if (minutes === 0 && seconds === 0) {
                clearInterval(interval);
                document.getElementById('countdown').textContent = "FINISH !";
                $("#modalTime").modal("show")
            }
        }

        updateCountdown();
        const interval = setInterval(updateCountdown, 1);
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
</html>